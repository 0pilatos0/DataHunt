<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="module" src="./engine.js"></script>
    <link rel="stylesheet" href="./htmlObjects.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="base" id="editorLeft">
        <div id="dragBarLeft" class="dragBar left"></div>
        <button id="hideButtonLeft" class="hideButton left" style="right:-25px"><</button>
        <ul id="objectList"></ul>
        <script>
            let draggingLeft = false
            dragBarLeft.addEventListener('mousedown', () => {
                draggingLeft = true
            })

            document.body.addEventListener('mousemove', (e) => {
                if(draggingLeft) editorLeft.style.width = `${e.screenX}px`
            })

            document.body.addEventListener('mouseup', (e) => {
                draggingLeft = false
            })

            hideButtonLeft.addEventListener('click', () => {
                if(hideButtonLeft.innerText == "<"){
                    editorLeft.style.minWidth = 0
                    editorLeft.style.width = 0
                    hideButtonLeft.innerText = ">"
                }
                else{
                    editorLeft.style.minWidth = `250px`
                    editorLeft.style.width = `250px`
                    hideButtonLeft.innerText = "<"
                }
            })

            reloadObjectList = () => {
                objectList.innerHTML = ""
                for (let i = 0; i < window.htmlObjects.length; i++) {
                //if(window.htmlObjects[i] != this.#list && window.htmlObjects[i].constructor.name != "ListItem"){
                    let li = document.createElement('li')
                    li.innerText = window.htmlObjects[i].constructor.name
                    
                    objectList.appendChild(li)
                    li.addEventListener('click', () => {
                        let data = window.htmlObjects[i].json
                        for (let x = 0; x < Object.keys(data).length; x++) {
                            console.log(Object.keys(data)[x])
                            console.log(data[Object.keys(data)[x]])
                            console.log(data[Object.keys(data)[x]].constructor.name)
                        }
                    })
                //} 
                }
            }
        </script>
    </div>

    <div class="base" id="editorRight">
        <div class="dragBar" id="dragBarRight"></div>
        <button id="hideButtonRight" class="hideButton" style="left:-25px">></button>
        <div id="inspector"></div>
        <script>
            let draggingRight = false
            dragBarRight.addEventListener('mousedown', () => {
                draggingRight = true
            })

            document.body.addEventListener('mousemove', (e) => {
                if(draggingRight) {editorRight.style.width = `calc(100vw - ${e.screenX}px)`}
            })

            document.body.addEventListener('mouseup', (e) => {
                draggingRight = false
            })

            hideButtonRight.addEventListener('click', () => {
                if(hideButtonRight.innerText == ">"){
                    editorRight.style.minWidth = 0
                    editorRight.style.width = 0
                    hideButtonRight.innerText = "<"
                }
                else{
                    editorRight.style.minWidth = `250px`
                    editorRight.style.width = `250px`
                    hideButtonRight.innerText = ">"
                }
            })
        </script>
    </div>
</body>
</html>